/*!
 *    Copyright 2017-present Sergey Ulyashev and Contributors
 * 
 *    Licensed under the Apache License, Version 2.0 (the "License");
 *    you may not use this file except in compliance with the License.
 *    You may obtain a copy of the License at
 * 
 *        http://www.apache.org/licenses/LICENSE-2.0
 * 
 *    Unless required by applicable law or agreed to in writing, software
 *    distributed under the License is distributed on an "AS IS" BASIS,
 *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *    See the License for the specific language governing permissions and
 *    limitations under the License.
 */
module.exports=function(e){function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}var t={};return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=8)}([function(e,r,t){"use strict";function n(e){return e.reduce(function(e,r){return e[r.id]=r},{})}function a(e){var r={};return e.forEach(function(e){return r[e.id]=e}),r}Object.defineProperty(r,"__esModule",{value:!0}),r.arrayToObjectWithNumbIds=n,r.arrayToObjectWithStringIds=a,r.trimText=function(e,r,t){if(void 0===r&&(r=55),void 0===t&&(t=" ... "),e.length<=r)return e;var n=Math.round((r-t.length)/2);return e.substr(0,n)+t+e.substr(e.length-n,e.length)},r.capitalize=function(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(0),a=t(10),u=a.map(function(e){return t(9)("./"+e+"/index.ts").default});r.default=u,r.banksById=n.arrayToObjectWithStringIds(u),r.patterns=u.reduce(function(e,r){return e.concat(r.patterns)},[]),r.testCases=[]},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(3),a={id:"ru.raiffeisen",patterns:n.default};r.default=a},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=[{id:1,bank_id:"ru.raiffeisen",regexp:/Karta (\*\d+); (Pokupka): ([\w\d\s.,\/а-яё]*?); (\d+(?:\.\d+)?) RUR; Data: (\d+\/\d+\/\d+); Dostupny Ostatok: (\d+(?:\.\d+)?) RUR. Raiffeisenbank/i,parser:function(e){return{balance:parseFloat(e[6]),card:e[1],datetime:e[5],description:"Покупка",flow:"-",value:parseFloat(e[4]),vendor:e[3]||null}}}];r.default=n},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),a={id:"ru.sberbank",patterns:n.default};r.default=a},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(0),a=[{id:1,bank_id:"ru.sberbank",regexp:/((?:VISA|MAESTRO)\d+) (\d{2}\.\d{2}\.\d{2} \d{2}:\d{2})\S* (?:(оплата услуг|покупка|списание)|(зачисление)) (\d+(?:\.\d+)?)(р)\s?([\wа-яё]*) Баланс: (\d+(?:\.\d+)?)р/i,parser:function(e){return{balance:parseFloat(e[8]),card:e[1],datetime:e[2],description:n.capitalize(e[3]||e[4]),flow:e[4]?"+":"-",value:parseFloat(e[5]),vendor:e[7]||null}}},{id:2,bank_id:"ru.sberbank",regexp:/(\d{2}[а-я]+)(\d{2})? \d{2}[а-я]+(\d{2}) \d+ (?:(плата.*|sberbank onl@in.*)|([\wа-яё\s]+)) (RUR) (\d+(?:\.\d+)?) (\d+(?:\.\d+)?)(CR)?/i,parser:function(e){return{balance:null,card:null,datetime:e[1]+(e[2]||e[3]),description:e[4]||null,flow:e[9]?"+":"-",value:parseFloat(e[8]),vendor:e[5]||null}}}];r.default=a},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(7),a={id:"ru.tinkoff",patterns:n.default};r.default=a},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=[{id:1,bank_id:"ru.tinkoff",regexp:/(Pokupka)\. Karta (\*\d+)\. Summa (\d+(?:\.\d+)?) RUB\. ([\w\d\s.,а-яё]*?)\. (\d+\.\d+\.\d+ \d+:\d+)\. Dostupno (\d+(?:\.\d+)?) RUB\. Tinkoff\.ru/i,parser:function(e){return{balance:parseFloat(e[6]),card:e[2],datetime:e[5],description:"Покупка",flow:"-",value:parseFloat(e[3]),vendor:e[4]||null}}},{id:2,bank_id:"ru.tinkoff",regexp:/(\d{2}\.\d{2}\.\d{2}(?: \d{2}:\d{2})?) \d{2}\.\d{2}\.\d{2} (\+)?(\d[\s\d]*(?:\.\d{2})?) (\w+)(?: \+?(?:\d[\s\d]*(?:\.\d{2})?) \4)? (?:(Оплата|Пополнение)\s?(?:[\.\wа-яё]+)? (.*)|(Проценты.*|Вознаграждение.*|Плата.*?sms.*))/i,parser:function(e){return{balance:null,card:null,datetime:e[1],description:e[5]||e[7],flow:e[2]?"+":"-",value:parseFloat(e[3].replace(/\s/g,"")),vendor:e[6]||null}}},{id:3,bank_id:"ru.tinkoff",regexp:/Vypiska ot (\d{2}\.\d{2}) po karte (\*\d+)\. Nachisleno protsentov: (\d+(?:\.\d+)?) (rub)\. Cashback: (\d+(?:\.\d+)?) (rub)\. Balans na (\d{2}\.\d{2}): (\d+(?:\.\d+)?) (rub)\. Tinkoff\.ru/i,parser:function(e){return{balance:parseFloat(e[8]),card:e[2],datetime:e[1],description:"Выписка от "+e[1]+". Проценты на остаток по счету и вознаграждение за операции покупок",flow:"+",value:parseFloat((parseFloat(e[3])+parseFloat(e[5])).toFixed(3)),vendor:"Tinkoff"}}}];r.default=n},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(1);r.getPatternFromMessage=function(e,r){return n.patterns.find(function(t){return(!r||t.bank_id===r)&&t.regexp.test(e)})},r.getTransaction=function(e,r){var t=e.match(r.regexp);if(t)return r.parser(t)};var a=function(e,t){var n=r.getPatternFromMessage(e);if(n)return r.getTransaction(e,n)};r.default=a},function(e,r,t){function n(e){return t(a(e))}function a(e){var r=u[e];if(!(r+1))throw new Error("Cannot find module '"+e+"'.");return r}var u={"./ru/raiffeisen/index.ts":2,"./ru/sberbank/index.ts":4,"./ru/tinkoff/index.ts":6};n.keys=function(){return Object.keys(u)},n.resolve=a,e.exports=n,n.id=9},function(e,r){e.exports=["ru/sberbank","ru/tinkoff","ru/raiffeisen"]}]);